<launch>
    <include file="$(find pacmod)/launch/pacmod.launch"/>
    
    <!-- Axis 3 is right thumbstick, 0 is left thumbstick. Speed in rad/sec. -->
    <arg name="steering_axis" default="0"/>
    
    <!-- 4.71239 is fast but jerky -->
    <arg name="steering_max_speed" default="2.356195"/>

    <group ns="game_control">
        <node pkg="joy" type="joy_node" name="joy">
              <param name="coalesce_interval" type="double" value="0.02"/>
              <param name="dev" value="/dev/input/js0"/>
        </node>

        <node pkg="pacmod_game_control" type="pacmod_game_control_node" name="pacmod_game_control">
            <param name="steering_axis" value="$(arg steering_axis)"/>
            <param name="steering_max_speed" value="$(arg steering_max_speed)"/>
        </node>
	</group>
</launch>
